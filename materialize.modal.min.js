let M_Modal={instances:[]};class Modal{constructor(a){this.name="M_Modal_"+M_Modal.instances.length,this.title=a.title||"",this.titleColor=a.titleColor?"color:"+a.titleColor+";":"",this.titleBackgroundColor=a.titleBackgroundColor?"background:"+a.titleBackgroundColor+";":"",this.width=a.width||70,this.height=a.height||70,this.topMargin=Math.floor((100-this.height)/2),this.topMarginCSS="top:"+this.topMargin+"vh;",this.footerButtons=a.footerButtons||"",this.openButton=a.openButton||null,this.opacity=a.opacity||.5,this.dismissible=a.dismissible||!1,this.preventScrolling=a.preventScrolling||!0,this.inDuration=a.inDuration||250,this.outDuration=a.outDuration||250,this.windowButtons=!1===a.windowButtons?"":"<div class=\"modal-windowButtons\"><div class=\"minimize-button-modal modal-windowbutton modal-minimize\"><i class=\"material-icons\">minimize</i></div><div class=\"maximize-button-modal modal-windowbutton modal-maximize\"><i class=\"material-icons\">filter_none</i></div><div class=\"close-button-modal modal-windowbutton modal-close\"><i class=\"material-icons\">close</i></div></div>",this.type="default"==a.type?"":"modal-fixed-footer",this.onOpen=a.onOpen||null,this.onClose=a.onClose||null,this.hasForm=!1,this.wasOpened=!1,this.fixedContent=a.fixedContent||"",this.template="<div id=\""+this.name+"\" class=\"modal "+this.type+"\" style=\""+this.topMarginCSS+"\"><div class=\"modal-header\" style=\""+this.titleBackgroundColor+"\"><h4><span style=\"font-size: 22px;"+this.titleColor+"\">"+this.title+"</span></h4></div><div class=\"modal-content\" style=\"padding-top: 17px; height: calc(100% - 112px);\">"+this.fixedContent+"<div class=\"modal-content-dynamic\"></div></div><div class=\"modal-footer\">"+this.footerButtons+"</div>"+this.windowButtons+"</div>",document.body.insertAdjacentHTML("beforeend",this.template),this.domElement=document.getElementById(this.name),this.instance=M.Modal.init(this.domElement,{opacity:this.opacity,dismissible:this.dismissible,preventScrolling:this.preventScrolling,startingTop:this.topMargin-5+"%",endingTop:this.topMargin+"%",inDuration:this.inDuration,outDuration:this.outDuration,onCloseStart:()=>{document.querySelectorAll(".minimized-item").forEach(a=>{a.getAttribute("mid")==this.name&&(a.parentNode.removeChild(a),1>document.querySelectorAll(".minimized-item").length&&toggleVisibility(document.getElementById("minimized-wrapper"),500))})},onCloseEnd:()=>{this.setContent(""),document.getElementById(this.name).classList.remove("maximized","minimized"),this.title||this.setTitle(""),this.onClose&&this.onClose(this)}}),this.selectAll(".modal-close").forEach(a=>a.addEventListener("click",()=>this.close())),this.openButton&&document.querySelectorAll(this.openButton).forEach(a=>a.addEventListener("click",()=>this.open())),this.windowButtons&&(this.select(".modal-minimize").addEventListener("click",()=>this.minimize()),this.select(".modal-maximize").addEventListener("click",()=>this.maximize())),M_Modal.instances.push(this)}select(a){return this.domElement.querySelector(a)}selectAll(a){return this.domElement.querySelectorAll(a)}open(a){return this.instance.open(),this.domElement.style.height=this.height+"vh",this.domElement.style.maxHeight=this.height+"vh",this.domElement.style.width=this.width+"%",this.domElement.style.maxWidth=this.maxWidth+"%",this.select(".modal-content").scrollTop=0,delete this.chipsField,this.removeImage(),this.on("keypress",a=>{13==a.which&&this.select(".modal-submit-form").click()}),this.onOpen&&this.onOpen(this,a),this}isOpen(){return this.domElement.classList.contains("open")}close(a){this.instance.close(),this.removeImage(),a&&a(this)}destroy(){this.instance.destroy(),this.domElement.parentNode.removeChild(this.domElement),M_Modal.instances=M_Modal.instances.filter(a=>a.name!==this.name)}on(a,b){this.domElement.removeEventListener(a,null),this.domElement.addEventListener(a,b)}setContent(a){let b=this.select(".modal-content-dynamic");"string"==typeof a?b.innerHTML=a:(b.innerHTML="",b.appendChild(a))}addContent(a){"string"==typeof a?this.select(".modal-content-dynamic").insertAdjacentHTML("beforeend",a):this.select(".modal-content-dynamic").appendChild(a)}removeContent(a){this.selectAll(a).forEach(a=>a.parentNode.removeChild(a))}setTitle(a){this.select(".modal-header h4 span").innerHTML=a}getTitle(){return this.select(".modal-header h4").innerHTML}getTitleText(){return this.select(".modal-header h4").textContent}setFooterButtons(a){this.select(".modal-footer").innerHTML=a,this.selectAll(".modal-close").forEach(a=>a.addEventListener("click",()=>this.close()))}setAttribute(a,b){this.domElement.setAttribute(a,b)}getAttribute(a){return this.domElement.getAttribute(a)}insertForm(a){this.hasForm=!0;let b=a.width||100,c=createElementFromHTML("<div class=\"modal-form\" style=\"width:"+b+"%\"></div>");return a.fields.forEach(a=>{a.modal=this.name,c.appendChild(createElementFromHTML(modalFormField(a)))}),this.setContent(c),a.imageField&&(this.addContent("<input class=\"modal-img-file\" type=\"file\">"),this.addContent("<div class=\"modal-img-container valign-wrapper\"><img class=\"modal-img\" src=\"\"><a href=\"#!\" class=\"modal-change-img btn btn-large btn-floating amber darken-2\"><i class=\"material-icons\">image</i></a><a href=\"#!\" class=\"modal-delete-img btn btn-large btn-floating red\"><i class=\"material-icons\">delete</i></a></div>"),this.select(".modal-change-img").removeEventListener("click",null),this.select(".modal-change-img").addEventListener("click",()=>this.select(".modal-img-file").click()),this.select(".modal-img-file").removeEventListener("change",null),this.select(".modal-img-file").addEventListener("change",a=>{let b=URL.createObjectURL(a.target.files[0]);this.select(".modal-img").setAttribute("src",b),this.showFormImageDeleteButton()}),this.select(".modal-delete-img").removeEventListener("click",null),this.select(".modal-delete-img").addEventListener("click",()=>{this.select(".modal-img").setAttribute("src",""),this.hideFormImageDeleteButton()})),a.values?this.setFormValues(a.values):void(M.FormSelect.init(document.querySelectorAll("select")),M.Datepicker.init(this.selectAll(".datepicker"),M_Modal.datePickerOptions||{}),M.Timepicker.init(this.selectAll(".timepicker"),M_Modal.timePickerOptions||{}),M.updateTextFields())}setFormValues(a){this.getFormFields().forEach(b=>{a[b.getAttribute("fname")]&&("custom"==b.getAttribute("ftype")||"custom_multiple"==b.getAttribute("ftype")?b.querySelectorAll("#"+b.getAttribute("fid")+" option").forEach(c=>{let d=c.textContent,e=a[b.getAttribute("fname")];e&&"object"==typeof e?e.forEach(a=>{d==a&&(c.selected=!0)}):e&&"string"==typeof e&&d==e&&(c.selected=!0)}):"checkbox"==b.getAttribute("ftype")?b.querySelector("#"+b.getAttribute("fid")).checked=!(!0!==a[b.getAttribute("fname")]):"text_long"==b.getAttribute("ftype")?(b.querySelector("#"+b.getAttribute("fid")).value=a[b.getAttribute("fname")],M.textareaAutoResize(b.querySelector("#"+b.getAttribute("fid")))):b.querySelector("#"+b.getAttribute("fid")).value=a[b.getAttribute("fname")])}),a.type&&("custom"==a.type||"custom_multiple"==a.type)&&this.addChipsField(a.chips),M.FormSelect.init(document.querySelectorAll("select")),M.updateTextFields()}getFormValues(a){if(a&&"single"!=a&&"combined"!=a)return console.error("Mode \""+a+"\" is not supported. Supported modes are: single, combined");let b=a||"combined",c=!1,d=[];return"combined"==b&&(d={}),this.getFormFields().forEach(a=>{if("true"!=a.getAttribute("required")||document.getElementById(a.getAttribute("fid")).value?(a.querySelector("input")||a.querySelector("textarea")).style.borderBottomColor="#9e9e9e":(c=!0,(a.querySelector("input")||a.querySelector("textarea")).style.borderBottomColor="#df0101"),"single"==b)"checkbox"==a.getAttribute("ftype")?d.push({field:a.getAttribute("fname"),value:document.getElementById(a.getAttribute("fid")).checked}):d.push({field:a.getAttribute("fname"),value:document.getElementById(a.getAttribute("fid")).value});else if("combined"==b)if("checkbox"==a.getAttribute("ftype"))d[a.getAttribute("fname")]=document.getElementById(a.getAttribute("fid")).checked;else if("custom"==a.getAttribute("ftype")||"custom_multiple"==a.getAttribute("ftype")){let b=Array.from(document.querySelectorAll("#"+a.getAttribute("fid")+" option:checked")).map(a=>a.value);1<b.length&&b.splice(0,1),d[a.getAttribute("fname")]=b}else d[a.getAttribute("fname")]=document.getElementById(a.getAttribute("fid")).value}),this.chipsField&&("combined"==b?d.chips=this.chipsField[0].M_Chips.chipsData:"single"==b&&d.push({field:"chips",value:this.chipsField[0].M_Chips.chipsData})),c?{requiredFieldMissing:!0}:d}getFormFields(){return this.selectAll(".modal-form > .input-field")}getFormField(a){return document.getElementById(this.select(".modal-form .input-field[fname=\""+a+"\"]").getAttribute("fid"))}clearForm(){this.getFormFields().forEach(a=>{"custom"==a.getAttribute("ftype")||"custom_multiple"==a.getAttribute("ftype")?a.querySelectorAll("#"+a.getAttribute("fid")+" option").forEach(a=>a.selected=!1):"checkbox"==a.getAttribute("ftype")?a.querySelector("#"+a.getAttribute("fid")).checked=!1:document.getElementById(a.getAttribute("fid")).value=""}),M.FormSelect.init(document.querySelectorAll("select")),M.updateTextFields()}hideFormField(a){this.selectAll(".modal-form .input-field").forEach(b=>{for(let c of a)b.getAttribute("fname")==c&&b.parentNode.removeChild(b)})}formFieldChange(a,b,c){const d=this.select(".modal-form .input-field[fname=\""+b+"\"]"),e=d.getAttribute("fid");document.getElementById(e).removeEventListener(a,null),document.getElementById(e).addEventListener(a,a=>{c(d,this,a),M.updateTextFields()})}displayImage(a){this.addContent("<div class=\"modal-img-container valign-wrapper\"><img class=\"modal-img\" src=\""+a+"\"></div>")}displayFormImage(a){this.select(".modal-img")&&this.select(".modal-img").setAttribute("src",a)}hideFormImageDeleteButton(){let a=this.select(".modal-delete-img");a&&(a.style.display="none")}showFormImageDeleteButton(){let a=this.select(".modal-delete-img");a&&(a.style.display="block")}removeImage(){this.select(".modal-img")&&this.select(".modal-img").setAttribute("src","")}getImage(){const a=this.select(".modal-img-file").files[0];if(a){let b=new FormData;return b.append("image",a),b}return this.select(".modal-img").getAttribute("src")}addChipsField(a){this.chipsField=createElementFromHTML("<div class=\"chips chips-placeholder\" id=\""+this.name+"_formChips\"></div>"),this.addContent(this.chipsField),M.Chips.init(this.chipsField,{data:a||[],placeholder:"+Option",secondaryPlaceholder:"+Option",onChipAdd:()=>{let a=M.Chips.getInstance(this.chipsField);this.chipsField.querySelectorAll("div").forEach(a=>a.parentNode.removeChild(a)),a.chipsData.sort(dynamicSort("tag","asc")),a.chipsData.forEach(a=>{this.chipsField.querySelector("input").insertAdjacentHTML("beforebegin","<div class=\"chip\">"+a.tag+"<i class=\"close material-icons\">close</i></div>")})}})}insertCollection(a){const b=a.width||100;let c=document.createElement("UL");if(c.classList.add("collection"),c.style.width=b+"%",a.items.forEach(a=>{let b=a.style||"",d="";a.customTemplate?d=createElementFromHTML(a.customTemplate):(d=document.createElement("LI"),d.classList.add("collection-item"),d.appendChild(createElementFromHTML("<div class=\"collection-item-content\"><span class=\"title\" style=\""+b+"\">"+a.label+"</span></div>"))),a.attributes&&Object.keys(a.attributes).forEach(b=>{a.attributes.hasOwnProperty(b)&&d.setAttribute(b,a.attributes[b])}),a.secondaryContent&&a.secondaryContent.reverse().forEach(a=>{let b=createElementFromHTML("<a href=\"#!\" class=\"secondary-content\"></a>"),c=createElementFromHTML("<i class=\"material-icons\">"+a.icon+"</i>");a.class&&b.classList.add(a.class),a.color&&(c.style.color=a.color),b.appendChild(c),a.tooltip&&(b.classList.add("tooltipped"),b.setAttribute("data-tooltip",a.tooltip)),d.querySelector(".collection-item-content").appendChild(b)}),c.appendChild(d)}),this.setContent(c),a.searchBar){if(!this.wasOpened){let a=document.createElement("DIV");a.classList.add("modal-search-ctn"),a.innerHTML="<i class=\"material-icons icon\">search</i><input type=\"text\" placeholder=\""+(M_Modal.searchBarPlaceholderText||"Search..")+"\" /><i class=\"material-icons modal-search-clear\">clear</i>",this.select(".modal-header").appendChild(a)}else this.select(".modal-search-ctn input").value="";searchInCollection({input:this.select(".modal-search-ctn input"),elements:this.selectAll(".collection .collection-item"),text:".title",clearBtn:this.select(".modal-search-ctn .modal-search-clear")})}this.wasOpened=!0,a.onInserted&&a.onInserted()}getCollection(){return this.select(".collection")}getCollectionItems(){return this.selectAll(".collection .collection-item")}minimize(){var a=Math.floor;const b=this.getTitleText();let c=0<document.querySelectorAll(".minimized-item").length?a(document.querySelector(".minimized-item:last-child").offsetLeft+document.querySelector(".minimized-item:last-child").offsetWidth):0;a(this.domElement.offsetLeft);let d=!1;document.querySelectorAll(".minimized-item").forEach(e=>{e.getAttribute("mid")==this.name&&(e.querySelector(".title").textContent=b,d=!0,c=a(e.offsetLeft))});let e=createElementFromHTML("<div class=\"minimized-item\" mid=\""+this.name+"\"><div class=\"title\">"+b+"</div><div class=\"minimized-windowbuttons\"><div class=\"modal-minimized-maximize\"><i class=\"material-icons\">filter_none</i></div><div class=\"modal-minimized-close\"><i class=\"material-icons\">close</i></div></div></div>");"none"==document.getElementById("minimized-wrapper").style.display&&(document.getElementById("minimized-wrapper").style.display="block"),d||document.getElementById("minimized-wrapper").appendChild(e);const f=document.querySelectorAll(".minimized-item").length;document.querySelectorAll(".minimized-item").forEach(a=>{a.style.width=5<f?(100/document.querySelectorAll(".minimized-item").length).toFixedDecimals(2)+"%":"20%"}),this.domElement.style.height=0,this.domElement.style.width=0,this.domElement.style.opacity=0,this.domElement.classList.add("minimized"),this.domElement.nextElementSibling.style.display="none",document.body.style.overflowY="scroll",e.querySelector(".title").addEventListener("click",a=>{this.restoreMinimized(a)}),e.querySelector(".modal-minimized-maximize").addEventListener("click",a=>{this.maximizeMinimized(a)}),e.querySelector(".modal-minimized-close").addEventListener("click",()=>{this.closeMinimized()})}maximize(a){this.domElement.classList.contains("maximized")&&!a?(this.domElement.style.height=this.height+"vh",this.domElement.style.maxHeight=this.height+"vh",this.domElement.style.width=this.width+"%",this.domElement.style.maxWidth=this.width+"%",this.domElement.style.top=this.topMargin+"%",this.domElement.classList.remove("maximized")):(this.domElement.style.transition="0.2s",this.domElement.style.height="100vh",this.domElement.style.maxHeight="100vh",this.domElement.style.width="100%",this.domElement.style.maxWidth="100%",this.domElement.style.top=0,this.domElement.classList.add("maximized"))}restoreMinimized(a){let b=this.domElement.classList.contains("maximized")?"100":this.height,c=this.domElement.classList.contains("maximized")?"0":this.topMargin,d=this.domElement.classList.contains("maximized")?"100":this.width,e=(100-this.width)/2;this.domElement.style.height=b+"vh",this.domElement.style.width=d+"%",this.domElement.style.top=c+"vh",this.domElement.style.display="block",this.domElement.style.opacity=1,this.domElement.nextElementSibling.style.display="block",this.domElement.classList.remove("minimized"),this.domElement.style.overflowY="hidden",a.target.closest(".minimized-item").parentNode.removeChild(a.target.closest(".minimized-item"));const f=document.querySelectorAll(".minimized-item").length;5<f?document.querySelectorAll(".minimized-item").forEach(a=>a.style.width=(100/f).toFixedDecimals(2)+"%"):5>=f&&0<f?document.querySelectorAll(".minimized-item").forEach(a=>a.style.width="20%"):document.getElementById("minimized-wrapper").style.display="none"}maximizeMinimized(a){this.domElement.style.display="block",this.domElement.style.opacity=1,this.domElement.style.overflowY="hidden",this.maximize("restore"),this.domElement.classList.remove("minimized"),this.domElement.nextElementSibling.style.display="block",a.target.closest(".minimized-item").parentNode.removeChild(a.target.closest(".minimized-item"));const b=document.querySelectorAll(".minimized-item").length;5<b?document.querySelectorAll(".minimized-item").forEach(a=>a.style.width=(100/b).toFixedDecimals(2)+"%"):5>=b&&0<b?document.querySelectorAll(".minimized-item").forEach(a=>a.style.width="20%"):document.getElementById("minimized-wrapper").style.display="none"}closeMinimized(){this.close();const a=document.querySelectorAll(".minimized-item").length;5<a?document.querySelectorAll(".minimized-item").forEach(b=>b.style.width=(100/a).toFixedDecimals(2)+"%"):5>=a&&0<a?document.querySelectorAll(".minimized-item").forEach(a=>a.style.width="20%"):document.getElementById("minimized-wrapper").style.display="none"}}document.body.appendChild(createElementFromHTML("<div id=\"minimized-wrapper\" style=\"display: none;\"></div>"));function modalFormField(a){const b=a.name.toLowerCase()+"_modalFormField_"+a.modal;a.labelClear=a.label.replace(/_/g," ");const c=a.disabled?"disabled":"",d=a.required?"true":"false",e=a.width||100,f=a.value||"";let g="";a.attributes&&a.attributes.forEach(function(a){g+=a.key+"=\""+a.val+"\" "});const h=a.icon?"<i class=\"material-icons prefix\">"+a.icon+"</i>":"";let i=a.append||"",j="";switch(a.type){case"text_short":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<label for=\""+b+"\">"+a.labelClear+"</label><input "+c+" class=\"form-field\" id=\""+b+"\" value=\""+f+"\" type=\"text\">"+i+"</div>";break;case"password":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<label for=\""+b+"\">"+a.labelClear+"</label><input "+c+" class=\"form-field\" id=\""+b+"\" value=\""+f+"\" type=\"password\">"+i+"</div>";break;case"text_long":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<label for=\""+b+"\">"+a.labelClear+"</label><textarea "+c+" id=\""+b+"\" class=\"materialize-textarea form-field\">"+f+"</textarea>"+i+"</div>";break;case"checkbox":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\"><p>"+h+"<label for=\""+b+"\"><input "+c+" id=\""+b+"\" value=\""+f+"\" type=\"checkbox\" class=\"filled-in form-field\" /><span>"+a.labelClear+"</span></label></p>"+i+"</div>";break;case"date":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<label for=\""+b+"\">"+a.labelClear+"</label><input "+c+" id=\""+b+"\" value=\""+f+"\" class=\"form-field datepicker\" type=\"text\">"+i+"</div>";break;case"time":return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<label for=\""+b+"\">"+a.labelClear+"</label><input "+c+" id=\""+b+"\" value=\""+f+"\" class=\"form-field timepicker\" type=\"text\">"+i+"</div>";break;case"custom":for(let b=0;b<a.chips.length;b++)j+=a.chips[b].tag==f?"<option customattr=\""+a.chips[b].customattr+"\" value=\""+a.chips[b].tag+"\" selected>"+a.chips[b].tag+"</option>":"<option customattr=\""+a.chips[b].customattr+"\" value=\""+a.chips[b].tag+"\">"+a.chips[b].tag+"</option>";return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<select "+c+" class=\"form-field\" id=\""+b+"\"><option value=\"\" disabled selected>...</option>"+j+"</select><label>"+a.labelClear+"</label>"+i+"</div>";break;case"custom_multiple":for(let b=0;b<a.chips.length;b++)j+=a.chips[b].tag==f?"<option customattr=\""+a.chips[b].customattr+"\" value=\""+a.chips[b].tag+"\" selected>"+a.chips[b].tag+"</option>":"<option customattr=\""+a.chips[b].customattr+"\" value=\""+a.chips[b].tag+"\">"+a.chips[b].tag+"</option>";return"<div class=\"input-field\" "+g+" fid=\""+b+"\" fname=\""+a.name+"\" flabel=\""+a.label+"\" ftype=\""+a.type+"\" required=\""+d+"\" style=\"width:"+e+"%\">"+h+"<select "+c+" multiple class=\"form-field\" id=\""+b+"\"><option  value=\"\" disabled selected>...</option>"+j+"</select><label>"+a.labelClear+"</label>"+i+"</div>";break;default:return console.error("type \""+a.type+"\" is not defined in the modalFormField function");}}M_Modal.presets={},M_Modal.presets.alert=a=>new Modal({width:25,height:20,title:"Alert",titleColor:"#fff",titleBackgroundColor:"#fbc02d",windowButtons:!1,footerButtons:"<a href=\"#!\" class=\"btn-flat waves-effect modal-close\">OK</a>",fixedContent:a,onClose:a=>a.destroy()}).open(),M_Modal.presets.error=a=>new Modal({width:25,height:20,title:"Error",titleColor:"#fff",titleBackgroundColor:"#d32f2f",windowButtons:!1,footerButtons:"<a href=\"#!\" class=\"btn-flat waves-effect modal-close\">OK</a>",fixedContent:a,onClose:a=>a.destroy()}).open(),M_Modal.presets.confirm=(a,b)=>new Modal({width:25,height:22,title:"Confirm",titleColor:"#fff",titleBackgroundColor:"#00bcd4",windowButtons:!1,footerButtons:"<a href=\"#!\" class=\"btn-flat waves-effect modal-deny\">Cancel</a><a href=\"#!\" class=\"btn-flat waves-effect cyan white-text modal-confirm\">OK</a>",fixedContent:a,onOpen:a=>{a.select(".modal-confirm").addEventListener("click",()=>{b(!0),a.destroy()}),a.select(".modal-deny").addEventListener("click",()=>{b(!1),a.destroy()})}}).open(),M_Modal.presets.prompt=(a,b)=>new Modal({width:25,height:25,title:a,titleColor:"#fff",titleBackgroundColor:"#00bcd4",windowButtons:!1,footerButtons:"<a href=\"#!\" class=\"btn-flat waves-effect modal-deny\">Cancel</a><a href=\"#!\" class=\"btn-flat waves-effect cyan white-text modal-confirm\">OK</a>",onOpen:c=>{c.select(".modal-confirm").addEventListener("click",()=>{let a=c.getFormValues().input;a&&(b(a),c.destroy())}),c.select(".modal-deny").addEventListener("click",()=>{b(!1),c.destroy()}),c.insertForm({fields:[{name:"input",type:"text_short",label:a}]})}}).open(),M_Modal.presets.password=(a,b)=>new Modal({width:25,height:25,title:a,titleColor:"#fff",titleBackgroundColor:"#00bcd4",windowButtons:!1,footerButtons:"<a href=\"#!\" class=\"btn-flat waves-effect modal-deny\">Cancel</a><a href=\"#!\" class=\"btn-flat waves-effect cyan white-text modal-confirm\">OK</a>",onOpen:c=>{c.select(".modal-confirm").addEventListener("click",()=>{let a=c.getFormValues().password;a&&(b(a),c.destroy())}),c.select(".modal-deny").addEventListener("click",()=>{b(!1),c.destroy()}),c.insertForm({fields:[{name:"password",type:"password",label:a}]})}}).open(),Number.prototype.toFixedDecimals=a=>this.toString().match(/[^.]*/i)[0]+"."+this.toString().match(/\.(.*)/)[1].substring(0,a);function dynamicSort(c,d){let e=0;if("asc"==d)e=1;else if("desc"==d)e=-1;else return console.error("sort order "+d+" not defined in the dynamicSort function");return function(d,a){let b,f;b="string"==typeof d[c]?d[c].toLowerCase():d[c],f="string"==typeof a[c]?a[c].toLowerCase():a[c];let g=b<f?-1:b>f?1:0;return g*e}}function createElementFromHTML(a){let b=document.createElement("div");return b.innerHTML=a.trim(),b.firstChild}function searchInCollection(a){a.input.removeEventListener("keyup",null),a.input.addEventListener("keyup",()=>{let b=a.input.value.toUpperCase();a.elements.forEach(c=>{c.style.display=-1<c.querySelector(a.text).textContent.toUpperCase().indexOf(b)?"block":"none"})}),a.clearBtn&&a.clearBtn.addEventListener("click",()=>{a.input.value="",a.elements.forEach(a=>a.style.display="")})}function showElement(a){const b=function(){a.style.display="block";let b=a.scrollHeight+"px";return a.style.display="",b}();a.classList.add("is-visible"),a.style.height=b,window.setTimeout(function(){a.style.height=""},350)}function hideElement(a){a.style.height=a.scrollHeight+"px",window.setTimeout(function(){a.style.height="0"},1),window.setTimeout(function(){a.classList.remove("is-visible")},350)}function toggleVisibility(a){return a.classList.contains("is-visible")?hideElement(a):void showElement(a)}function fadeIn(a,b){a.style.opacity=0;let c=+new Date,d=function(){a.style.opacity=+a.style.opacity+(new Date-c)/(b||400),c=+new Date,1>+a.style.opacity&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}function fadeOut(a,b){a.style.opacity=1;let c=+new Date,d=function(){a.style.opacity=+a.style.opacity-(new Date-c)/(b||400),c=+new Date,0<+a.style.opacity&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}